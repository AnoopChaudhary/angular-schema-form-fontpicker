angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/fontpicker/fontpicker.html",'<div class="form-group" ng-class="{\'has-error\': hasError()}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div font-picker="{{form}}" ng-model="$$value$$" style="background-color: white" schema-validate="form"></div><span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div>'),e.put("directives/decorators/bootstrap/fontpicker/fontpickerdirective.html",'<div class="fontpicker"><div class="alert alert-danger" role="alert" ng-show="failedFont.length > 0">{{failedFont}} {{strings.loadError}}</div><div class="row" ng-if="paneButtons.preset.show && paneButtons.custom.show"><div class="btn-group col-xs-12" role="group"><button type="button" ng-click="switchPane("preset")" ng-class="{\'btn-primary\': activePane === \'preset\', \'btn-default\': activePane !== \'preset\'}" class="btn">{{paneButtons.preset.text}}</button> <button type="button" ng-click="switchPane("custom")" ng-class="{\'btn-primary\': activePane === \'custom\', \'btn-default\': activePane !== \'custom\'}" class="btn">{{paneButtons.custom.text}}</button></div></div><div class="row" ng-if="activePane === \'custom\'"><p class="col-xs-12 col-md-8" ng-bind-html="strings.customFontDesc"></p></div><div class="row quote-row" ng-if="preview.showTextAndSizeInput"><div class="col-xs-1"><svg class="label quoteicon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 796.455 736.859"><path fill="#231F20" d="M368.938 45.93s.79-34.072-6.21-40-43-5.93-43-5.93h-270s-28.272-2.07-39 5.93-10.73 40-10.73 40v272s-2.27 19 7.73 28 35 7 35 7h219s9 84-27 162-132 125-134 133 47 77.07 56 83 137.79-83 174-162 38.21-151 38.21-173v-350zM796.43 45.93s.788-34.072-6.212-40-43-5.93-43-5.93h-270s-28.272-2.07-39 5.93-10.73 40-10.73 40v272s-2.27 19 7.73 28 35 7 35 7h219s9 84-27 162-132 125-134 133 47 77.07 56 83 137.79-83 174-162 38.21-151 38.21-173v-350z"></path></svg></div><div class="col-xs-11 col-md-7"><input class="form-control quote" ng-model="preview.text"></div><div class="col-md-4 fontsize hidden-sm hidden-xs"><div ng-repeat="(key, size) in preview.sizes" ng-click="preview.defaultSize = size" class="sizebutton pointer" ng-style="{\'width\': Math.floor(100/preview.sizes.length)+\'%\'}" ng-class="{active: preview.defaultSize === size}"><svg class="fonticon" xmlns="http://www.w3.org/2000/svg" ng-width="{{13+(key*5)}}" ng-height="{{13+(key*5)}}" viewbox="83.178 0 645.914 736.859" enable-background="new 83.178 0 645.914 736.859"><path d="M701.562 692.248c-8.223-4.176-15.68-8.213-17.7-10.49-7.02-7.908-7.378-14.375-10.718-23.617-5.377-14.878-12.34-29.087-18.02-44.06-20.12-53.058-40.57-106.165-62.43-158.575-50.47-121.017-97.237-243.76-145.753-365.585-11.266-28.29-22.4-56.65-33.664-84.93 0 0-28.12-6.372-30.346 0-25.59 73.21-83.14 217.562-83.14 217.562L164.07 576.81l-28.037 79.646s-12.376 26.664-22.376 36.188c-3.213 3.06-30.384 17.94-30.48 15.95L84.43 734.7l163.298.002s.178-18.436 0-27.645c.035 1.785-33.015-11.973-36-14.73-10.07-9.297-19.68-25.517-15-38.907 3.49-9.984 70-189.396 70-189.396h209s61.924 174.53 66 182.744c19.782 39.865-15.52 58.564-49 59.75l1 28.182h235.364s-1.14-27.965-1.147-28.182c-.06-1.45-14.077-8.018-26.383-14.27zM278.27 425.982l95.348-247.48 91.11 247.428-186.458.052z"></path></svg><br>{{size}}pt</div></div></div><div class="row type-row" ng-show="activePane === \'preset\'"><div class="col-xs-1"><svg class="label fonticon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="83.178 0 645.914 736.859" enable-background="new 83.178 0 645.914 736.859"><path fill="#231F20" d="M701.562 692.248c-8.223-4.176-15.68-8.213-17.7-10.49-7.02-7.908-7.378-14.375-10.718-23.617-5.377-14.878-12.34-29.087-18.02-44.06-20.12-53.058-40.57-106.165-62.43-158.575-50.47-121.017-97.237-243.76-145.753-365.585-11.266-28.29-22.4-56.65-33.664-84.93 0 0-28.12-6.372-30.346 0-25.59 73.21-83.14 217.562-83.14 217.562L164.07 576.81l-28.037 79.646s-12.376 26.664-22.376 36.188c-3.213 3.06-30.384 17.94-30.48 15.95L84.43 734.7l163.298.002s.178-18.436 0-27.645c.035 1.785-33.015-11.973-36-14.73-10.07-9.297-19.68-25.517-15-38.907 3.49-9.984 70-189.396 70-189.396h209s61.924 174.53 66 182.744c19.782 39.865-15.52 58.564-49 59.75l1 28.182h235.364s-1.14-27.965-1.147-28.182c-.06-1.45-14.077-8.018-26.383-14.27zM278.27 425.982l95.348-247.48 91.11 247.428-186.458.052z"></path></svg></div><div class="col-xs-11"><div class="dropdown"><button class="btn btn-default dropdown-toggle" ng-style="{\'font-family\': modelValues.preset.name == \'Font\' ? \'\' : modelValues.preset.name }" style="min-width: 100%;" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">{{modelValues.preset.name || strings.dropdown}} <span class="caret"></span></button><ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1"><li role="presentation" ng-click="chooseFont(font)" style="font-family: \'{{font.name}}\'" ng-repeat="(key, font) in fontlist"><a role="menuitem" tabindex="-1" href="#">{{font.name}}</a></li></ul></div></div></div><div class="row any-type-row" ng-show="activePane === \'custom\'"><div class="col-xs-1"><svg class="label fonticon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="83.178 0 645.914 736.859" enable-background="new 83.178 0 645.914 736.859"><path fill="#231F20" d="M701.562 692.248c-8.223-4.176-15.68-8.213-17.7-10.49-7.02-7.908-7.378-14.375-10.718-23.617-5.377-14.878-12.34-29.087-18.02-44.06-20.12-53.058-40.57-106.165-62.43-158.575-50.47-121.017-97.237-243.76-145.753-365.585-11.266-28.29-22.4-56.65-33.664-84.93 0 0-28.12-6.372-30.346 0-25.59 73.21-83.14 217.562-83.14 217.562L164.07 576.81l-28.037 79.646s-12.376 26.664-22.376 36.188c-3.213 3.06-30.384 17.94-30.48 15.95L84.43 734.7l163.298.002s.178-18.436 0-27.645c.035 1.785-33.015-11.973-36-14.73-10.07-9.297-19.68-25.517-15-38.907 3.49-9.984 70-189.396 70-189.396h209s61.924 174.53 66 182.744c19.782 39.865-15.52 58.564-49 59.75l1 28.182h235.364s-1.14-27.965-1.147-28.182c-.06-1.45-14.077-8.018-26.383-14.27zM278.27 425.982l95.348-247.48 91.11 247.428-186.458.052z"></path></svg></div><div class="col-xs-7 col-md-9"><input class="form-control" ng-model="custom.input"></div><div class="col-xs-4 col-md-2"><button class="anytype-btn btn btn-default col-xs-1" type="button" ng-disabled="custom.loading" ng-click="loadCustomFont()">{{strings.loadButton}}</button></div></div><style>\n    .fontpicker .previewRow {\n      font-size: {{preview.defaultSize}}pt;\n      font-family: \'{{modelValues.current.name}}\'\n    }\n  </style><div class="row" ng-if="modelValues.current.name"><div class="col-xs-11 preview"><p ng-click="((key === 0 && preview.styles.length > 1) && togglePreview())" ng-hide="previewExpanded === false && key > 0" ng-repeat="(key, style) in preview.styles" class="previewRow" ng-style="angular.extend(style, {\'cursor\': (key === 0 && preview.styles.length > 1) ? \'pointer\' : \'default\'})">{{preview.text}}</p></div><div ng-click="togglePreview()" class="col-xs-1 caretsign pointer">{{previewExpanded == true ? \'&#x25B2;\' : \'&#x25BC;\'}}</div></div></div>')}]),angular.module("schemaFormFontpicker",["schemaForm"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,o){var n=function(t,n,s){if("object"===n.type&&"font"==n.format){var i=e.stdFormObj(t,n,s);return i.key=s.path,i.type="fontpicker",s.lookup[o.stringify(s.path)]=i,i}};e.defaults.object.unshift(n),t.addMapping("bootstrapDecorator","fontpicker","directives/decorators/bootstrap/fontpicker/fontpicker.html")}]),angular.module("schemaFormFontpicker").directive("fontPicker",["$q",function(e){"use strict";return{restrict:"AE",scope:!0,require:"ngModel",templateUrl:"directives/decorators/bootstrap/fontpicker/fontpickerdirective.html",link:function(t,o,n,s){function i(e){if(/^(?:<link|@import|http)/.test(e)){var o={},n=/^(?:<link href='|@import url\()*([^')]+)+/.exec(e);o.url=n[1];var s=/.*ily=([^:]+)+/.exec(o.url);return null===s?(t.failedFont=e,!1):(o.name=s[1].replace(/\+/g," "),o)}return t.failedFont=e,!1}function a(o,n){var s=[];return angular.forEach(o,function(e){var t=e.url.match(/.*ily=(.+)$/),o=t[1].replace(/\+/g," ");s.push(o)}),e(function(e,o){t.failedFont="",WebFont.load({google:{families:s},active:e,inactive:o,fontinactive:function(e){if("preset"===n)throw"Failed to load font: "+e;t.failedFont=e,t.$apply()},timeout:2e3})})}var r="http://fonts.googleapis.com/css?family=",l={};t.Math=window.Math,t.angular=angular,t.modelValues=l,t.activePane="preset",t.translations={},t.previewExpanded=!0,t.custom={input:"",loading:!1};var c=t.$watch(n.fontPicker,function(e){void 0!==e&&(t.fontlist=e.fontlist,t.preview=e.preview,t.strings=e.strings,t.paneButtons=e.paneButtons,t.preview||(t.preview={}),t.preview.sizes||(t.preview.sizes=[12,18,24,48]),t.preview.defaultSize||(t.preview.defaultSize=18),void 0===t.preview.showTextAndSizeInput&&(t.preview.showTextAndSizeInput=!0),t.preview.text||(t.preview.text="The quick brown fox jumps over the lazy dog"),t.preview.styles||(t.preview.styles=[{},{"font-weight":"bold"},{"font-style":"italic"}]),t.strings||(t.strings={}),t.strings.loadButton||(t.strings.loadButton="Load"),t.strings.dropdown||(t.strings.dropdown="Choose font"),t.strings.loadError||(t.strings.loadError="could not be loaded."),t.strings.customFontDesc||(t.strings.customFontDesc='You can load any font from <a href="https://www.google.com/fonts">Google Fonts</a>. Simply open any font by pressing the "Quick Use (right arrow)" button in the list. Make any alterations you wish in steps 1 and 2, then copy the "Standard" link from step 3. When you hit load the font is loaded and can be previewed. When you need to use the font, check step 4.'),t.paneButtons||(t.paneButtons={}),t.paneButtons.preset||(t.paneButtons.preset={}),t.paneButtons.custom||(t.paneButtons.custom={}),t.paneButtons.preset.text||(t.paneButtons.preset.text="Preset fonts"),t.paneButtons.custom.text||(t.paneButtons.custom.text="Load font"),void 0===t.paneButtons.preset.show&&(t.paneButtons.preset.show=!0),void 0===t.paneButtons.custom.show&&(t.paneButtons.custom.show=!0),t.fontlist||(t.fontlist=[{name:"Old Standard TT",url:r+"Old+Standard+TT:400,400italic,700"},{name:"Josefin Slab",url:r+"Josefin+Slab:300,400,700"},{name:"Arvo",url:r+"Arvo:400,700"},{name:"Vollkorn",url:r+"Vollkorn:400,700"},{name:"Abril Fatface",url:r+"Abril+Fatface"},{name:"Playfair Display SC",url:r+"Playfair+Display+SC"},{name:"Open Sans",url:r+"Open+Sans:400,700,300,800"},{name:"Lato",url:r+"Lato:100,300,400,700,900"},{name:"Ubuntu",url:r+"Ubuntu:300,400,500,700"},{name:"PT Sans",url:r+"PT+Sans:400,700"},{name:"Droid Sans",url:r+"Droid+Sans:400,700"},{name:"Roboto",url:r+"Roboto:400,300,700,900"},{name:"Londrina Solid",url:r+"Londrina+Solid"},{name:"Indie Flower",url:r+"Indie+Flower"},{name:"Nothing You Could Do",url:r+"Nothing+You+Could+Do"},{name:"Dancing Script",url:r+"Dancing+Script"},{name:"Satisfy",url:r+"Satisfy"},{name:"Calligraffitti",url:r+"Calligraffitti"}]),a(t.fontlist,"preset"),s.$render(),c())});s.$render=function(){var e=!1;return void 0===t.fontlist||void 0===s.$viewValue?!1:(angular.forEach(t.fontlist,function(t){s.$viewValue.url===t.url&&(e=!0)}),void(e?(t.activePane="preset",t.chooseFont(s.$viewValue)):(t.activePane="custom",t.loadCustomFont(s.$viewValue),t.custom.input=s.$viewValue.url)))},t.chooseFont=function(e){s.$setViewValue({name:e.name,url:e.url}),l.preset=e,l.current=l.preset},t.loadCustomFont=function(e){return void 0===e&&(e=i(t.custom.input)),e&&e.url?(l.current=l.custom,t.custom.loading=!0,void a([e],"custom").then(function(){s.$setViewValue({name:e.name,url:e.url}),l.custom=e,t.custom.loading=!1,l.current=l.custom})["catch"](function(){s.$setViewValue(),t.modelValues.custom={},t.custom.loading=!1})):!1},t.switchPane=function(e){s.$setViewValue(),t.activePane=e,l.current=l[e],"preset"===e?void 0!==l.preset&&t.chooseFont(l.preset):"custom"===e&&void 0!==l.custom&&t.loadCustomFont(l.custom)},t.togglePreview=function(){t.previewExpanded=!t.previewExpanded}}}}]),angular.forEach(["x","y","width","height"],function(e){var t="ng"+e[0].toUpperCase()+e.slice(1);angular.module("schemaFormFontpicker").directive(t,function(){return function(o,n,s){s.$observe(t,function(t){s.$set(e,t)})}})});